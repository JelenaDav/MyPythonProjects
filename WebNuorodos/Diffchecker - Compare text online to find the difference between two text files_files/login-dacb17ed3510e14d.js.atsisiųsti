(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{43921:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return o(21130)}])},21130:function(e,n,o){"use strict";o.r(n);var s=o(24246),i=o(92682),l=o(9520),t=o(60042),r=o.n(t),a=o(28028),c=o(71493),u=o(58894),d=o(82985),g=o(62438),h=o(35509),_=o(33408),p=o(24762),x=o(92605),f=o(39261),m=o(88038),j=o.n(m),k=o(79894),w=o.n(k),Z=o(86677),b=o(27378),v=o(84083),y=o(43808),C=o(65484),N=o.n(C);let E=()=>{let e=(0,v.TL)(),n=(0,Z.useRouter)(),o=(0,v.CG)(e=>e.user.loginErrorCode)||(0,h.Z)(n.query.error),t=(0,v.CG)(e=>e.user.loginErrorField),[m,k]=(0,b.useState)(""),[C,E]=(0,b.useState)(""),L=(0,h.Z)(n.query.key),P=(0,h.Z)(n.query.next),D=P?"next=".concat(encodeURIComponent(P)):"",S=(0,p.Z)("/signup",n.query),[I,G]=(0,b.useState)(!1),q=e=>{k(e.target.value)},B=e=>{E(e.target.value)},F=o=>{o.preventDefault(),f.Z.trackEvent("Submitted login form"),G(!0),e(l.x4({email:m,password:C})).unwrap().then(o=>{L&&e(i.cy(L)).unwrap(),f.Z.setUserId(o.user.id),f.Z.trackEvent("Logged in",{id:o.user.id,kind:"creds"}),n.push(L?"/download-desktop":P||"/")}).catch(e=>{f.Z.trackEvent("Failed logging in",{error:e,kind:"creds"}),G(!1),E("")})};return(0,s.jsxs)(g.Z,{name:"Login",children:[(0,s.jsx)(j(),{children:(0,s.jsx)("title",{children:(0,x.Z)("Login")})}),(0,s.jsx)(d.Z,{children:(0,s.jsxs)("div",{className:N().login,children:[(0,s.jsx)("h2",{children:"Sign in to Diffchecker"}),L&&(0,s.jsxs)(a.Z,{type:"success",children:["Sign up or log in now to connect your Diffchecker Desktop purchase to your account.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Thanks for buying Diffchecker Desktop :)"]}),P&&(0,s.jsx)(a.Z,{type:"warning",children:"You need to login/signup to proceed to the next page"}),(0,s.jsx)(u.Z,{code:o,field:t}),(0,s.jsx)(c.Z,{style:"basic",size:"larger",fullWidth:!0,className:N().googleButton,onClick:e=>{e.preventDefault(),f.Z.trackEvent("Clicked continue with google",{flow:"login"}),n.push((0,_.Z)("/auth/google?flow=login&".concat(D)))},children:(0,s.jsxs)("span",{className:N().buttonContent,children:[(0,s.jsx)("span",{className:N().buttonIcon,children:(0,s.jsx)(y.Z,{})}),"Continue with Google"]})}),(0,s.jsx)("div",{className:N().or,children:"or"}),(0,s.jsxs)("form",{onSubmit:F,children:[(0,s.jsxs)("label",{children:["Email address",(0,s.jsx)("input",{type:"email",className:"email",value:m,placeholder:"Email",onChange:q})]}),(0,s.jsxs)("label",{children:["Password",(0,s.jsx)("input",{type:"password",className:"password",value:C,placeholder:"Password",onChange:B})]}),(0,s.jsx)(c.Z,{style:"solid",tone:"green",type:"submit",fullWidth:!0,size:"large",isLoading:I,children:"Sign in"}),(0,s.jsx)("p",{className:r()(N().small,N().forgotPassword),children:(0,s.jsx)(w(),{href:"/forgot-password",children:"Forgot your password?"})})]})]})}),(0,s.jsx)("div",{className:r()(N().small,N().samlLink),children:(0,s.jsx)(w(),{href:"/login-saml?".concat(D),children:"Use single sign-on"})}),(0,s.jsxs)("div",{className:r()(N().small,N().signupLink),children:["Don't have an account? ",(0,s.jsx)(w(),{href:S,children:"Sign up"})]})]})};n.default=E},65484:function(e){e.exports={buttonContent:"login_buttonContent__GP__d",buttonIcon:"login_buttonIcon__rYCB5",or:"login_or__Yp_1P",login:"login_login__tJI_v",forgotPassword:"login_forgotPassword__Uwef3",samlLink:"login_samlLink__F3X31",signupLink:"login_signupLink__xEL7P",small:"login_small___V3iD",googleButton:"login_googleButton__6shhG"}}},function(e){e.O(0,[6802,3171,4867,2438,5859,9774,2888,179],function(){return e(e.s=43921)}),_N_E=e.O()}]);